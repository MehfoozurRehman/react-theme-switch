"use strict";var _react=_interopRequireWildcard(require("react"));require("core-js/modules/web.dom-collections.iterator.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ThemeSwitch,require("./style.css");function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!=f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d.default=a,c&&c.set(a,d),d}function ThemeSwitch(){const a="theme-preference",b=()=>{e.value="light"===e.value?"dark":"light",c()},c=()=>{localStorage.setItem(a,e.value),d()},d=()=>{var a;document.firstElementChild.setAttribute("data-theme",e.value),null===(a=document.querySelector("#theme-toggle"))||void 0===a?void 0:a.setAttribute("aria-label",e.value)},e={value:(()=>localStorage.getItem(a)?localStorage.getItem(a):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")()};// set early so no page flashes / CSS is made aware
return(0,_react.useEffect)(()=>{d(),window.onload=()=>{d()},document.querySelector("#theme-toggle").addEventListener("click",b),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>{let{matches:b}=a;e.value=b?"dark":"light",c()})},[]),/*#__PURE__*/_react.default.createElement("button",{className:"theme-toggle",id:"theme-toggle",title:"Toggles light & dark","aria-label":"auto","aria-live":"polite"},/*#__PURE__*/_react.default.createElement("svg",{className:"sun-and-moon","aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24"},/*#__PURE__*/_react.default.createElement("mask",{className:"moon",id:"moon-mask"},/*#__PURE__*/_react.default.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),/*#__PURE__*/_react.default.createElement("circle",{cx:"24",cy:"10",r:"6",fill:"black"})),/*#__PURE__*/_react.default.createElement("circle",{className:"sun",cx:"12",cy:"12",r:"6",mask:"url(#moon-mask)",fill:"currentColor"}),/*#__PURE__*/_react.default.createElement("g",{className:"sun-beams",stroke:"currentColor"},/*#__PURE__*/_react.default.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),/*#__PURE__*/_react.default.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),/*#__PURE__*/_react.default.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),/*#__PURE__*/_react.default.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),/*#__PURE__*/_react.default.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),/*#__PURE__*/_react.default.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),/*#__PURE__*/_react.default.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),/*#__PURE__*/_react.default.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))))}