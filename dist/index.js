"use strict";var _react=_interopRequireWildcard(require("react"));require("core-js/modules/es.weak-map.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/web.dom-collections.iterator.js"),require("./style.css");function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!=typeof b&&"function"!=typeof b)return{default:b};var d=_getRequireWildcardCache(c);if(d&&d.has(b))return d.get(b);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in b)if("default"!=a&&{}.hasOwnProperty.call(b,a)){var g=f?Object.getOwnPropertyDescriptor(b,a):null;g&&(g.get||g.set)?Object.defineProperty(e,a,g):e[a]=b[a]}return e.default=b,d&&d.set(b,e),e}const ThemeSwitch=()=>{const a="theme-preference",[b,c]=(0,_react.useState)(()=>localStorage.getItem(a)||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),d=()=>{var d;const e="light"===b?"dark":"light";c(e),localStorage.setItem(a,e),document.documentElement.setAttribute("data-theme",e),null===(d=document.querySelector("#theme-toggle"))||void 0===d||d.setAttribute("aria-label",e)};return(0,_react.useEffect)(()=>{document.documentElement.setAttribute("data-theme",b);const a=document.querySelector("#theme-toggle");a&&a.addEventListener("click",d);const e=window.matchMedia("(prefers-color-scheme: dark)"),f=a=>{let{matches:b}=a;c(b?"dark":"light")};return e.addEventListener("change",f),()=>{a&&a.removeEventListener("click",d),e.removeEventListener("change",f)}},[b]),/*#__PURE__*/_react.default.createElement("button",{className:"theme-toggle",id:"theme-toggle",title:"Toggles light & dark","aria-label":b,"aria-live":"polite"},/*#__PURE__*/_react.default.createElement("svg",{className:"sun-and-moon","aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 24 24"},/*#__PURE__*/_react.default.createElement("mask",{className:"moon",id:"moon-mask"},/*#__PURE__*/_react.default.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),/*#__PURE__*/_react.default.createElement("circle",{cx:"24",cy:"10",r:"6",fill:"black"})),/*#__PURE__*/_react.default.createElement("circle",{className:"sun",cx:"12",cy:"12",r:"6",mask:"url(#moon-mask)",fill:"currentColor"}),/*#__PURE__*/_react.default.createElement("g",{className:"sun-beams",stroke:"currentColor"},/*#__PURE__*/_react.default.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),/*#__PURE__*/_react.default.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),/*#__PURE__*/_react.default.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),/*#__PURE__*/_react.default.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),/*#__PURE__*/_react.default.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),/*#__PURE__*/_react.default.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),/*#__PURE__*/_react.default.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),/*#__PURE__*/_react.default.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))))};var _default=exports.default=ThemeSwitch;